(window.webpackJsonp=window.webpackJsonp||[]).push([["effekseer"],{58:function(e,t,n){"use strict";n.r(t);var o,r=n(8),i=n(10),a=n(2),s=n(6),_=n(19),f=n(24),p=n(7),c=n(26),u=n(11),l=(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),h=function(e){function t(t,n,o){var r=e.call(this,t,n,o)||this;return r.__speed=1,r.playJustAfterLoaded=!1,r.isLoop=!1,r}return l(t,e),t.prototype.$create=function(){this.__sceneGraphComponent=this.__entityRepository.getComponentOfEntity(this.__entityUid,i.a),this.__transformComponent=this.__entityRepository.getComponentOfEntity(this.__entityUid,_.a),this.moveStageTo(a.a.Load)},Object.defineProperty(t,"componentTID",{get:function(){return u.a.EffekseerComponentTID},enumerable:!0,configurable:!0}),t.common_$load=function(){if(!t.__isInitialized){var e=c.a.getInstance().getModule("webgl").WebGLResourceRepository.getInstance().currentWebGLContextWrapper;e&&(effekseer.init(e.getRawContext()),t.__isInitialized=!0)}},t.prototype.$load=function(){var e=this;null==this.__effect&&(this.__effect=effekseer.loadEffect(this.uri,function(){e.playJustAfterLoaded&&(e.isLoop?e.__timer=setInterval(function(){e.play()},500):e.play())})),this.moveStageTo(a.a.PreRender)},t.prototype.cancelLoop=function(){clearInterval(this.__timer)},t.prototype.play=function(){var e=this,t=function(){e.__handle=effekseer.play(e.__effect)};this.isLoop?this.__timer=setInterval(t,200):t()},t.common_$logic=function(){effekseer.update()},t.prototype.$prerender=function(){if(null!=this.__handle){var e=new s.a(this.__sceneGraphComponent.worldMatrixInner);this.__handle.setMatrix(e.v),this.__handle.setSpeed(this.__speed)}},t.common_$render=function(){var e=p.a.getInstance().getComponent(f.a,f.a.main),n=t.__tmp_indentityMatrix,o=t.__tmp_indentityMatrix;e&&(n=e.viewMatrix,o=e.projectionMatrix),effekseer.setProjectionMatrix(o.v),effekseer.setCameraMatrix(n.v),effekseer.draw()},Object.defineProperty(t.prototype,"playSpeed",{get:function(){return this.__speed},set:function(e){this.__handle&&this.__handle.setSpeed(e),this.__speed=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"translate",{get:function(){return this.__transformComponent.translate},set:function(e){this.__handle&&this.__handle.setLocation(e.x,e.y,e.z),this.__transformComponent.translate=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rotate",{get:function(){return this.__transformComponent.rotate},set:function(e){this.__handle&&this.__handle.setRotation(e.x,e.y,e.z),this.__transformComponent.rotate=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"scale",{get:function(){return this.__transformComponent.scale},set:function(e){this.__handle&&this.__handle.setScale(e.x,e.y,e.z),this.__transformComponent.scale=e},enumerable:!0,configurable:!0}),t.__isInitialized=!1,t.__tmp_indentityMatrix=s.a.identity(),t}(r.a),d=h;p.a.registerComponentClass(h);var y=n(33),m=Object.freeze({EffekseerComponent:d,createEffekseerEntity:function(){return y.a.getInstance().createEntity([_.a,i.a,d])}});t.default=m}}]);