(window.webpackJsonp=window.webpackJsonp||[]).push([["effekseer"],{49:function(e,t,s){"use strict";s.r(t);var n=s(7),i=s(10),a=s(2),r=s(6),o=s(16),_=s(22),h=s(9),p=s(17);class l extends n.a{constructor(e,t,s){super(e,t,s),this.__speed=1,this.playJustAfterLoaded=!1,this.isLoop=!1}$create(){this.__sceneGraphComponent=this.__entityRepository.getComponentOfEntity(this.__entityUid,i.a),this.__transformComponent=this.__entityRepository.getComponentOfEntity(this.__entityUid,o.a),this.moveStageTo(a.a.Load)}static common_$load(){if(l.__isInitialized)return;const e=p.a.getInstance().getModule("webgl").WebGLResourceRepository.getInstance().currentWebGLContextWrapper;e&&(effekseer.init(e.getRawContext()),l.__isInitialized=!0)}$load(){null==this.__effect&&(this.__effect=effekseer.loadEffect(this.uri,()=>{this.playJustAfterLoaded&&(this.isLoop?this.__timer=setInterval(()=>{this.play()},500):this.play())})),this.moveStageTo(a.a.PreRender)}cancelLoop(){clearInterval(this.__timer)}play(){const e=()=>{this.__handle=effekseer.play(this.__effect)};this.isLoop?this.__timer=setInterval(e,200):e()}static common_$logic(){effekseer.update()}$prerender(){if(null!=this.__handle){const e=new r.a(this.__sceneGraphComponent.worldMatrixInner);this.__handle.setMatrix(e.v),this.__handle.setSpeed(this.__speed)}}static common_$render(){const e=h.a.getInstance().getComponent(_.a,_.a.main);let t=l.__tmp_indentityMatrix,s=l.__tmp_indentityMatrix;e&&(t=e.viewMatrix,s=e.projectionMatrix),effekseer.setProjectionMatrix(s.v),effekseer.setCameraMatrix(t.v),effekseer.draw()}set playSpeed(e){this.__handle&&this.__handle.setSpeed(e),this.__speed=e}get playSpeed(){return this.__speed}set translate(e){this.__handle&&this.__handle.setLocation(e.x,e.y,e.z),this.__transformComponent.translate=e}get translate(){return this.__transformComponent.translate}set rotate(e){this.__handle&&this.__handle.setRotation(e.x,e.y,e.z),this.__transformComponent.rotate=e}get rotate(){return this.__transformComponent.rotate}set scale(e){this.__handle&&this.__handle.setScale(e.x,e.y,e.z),this.__transformComponent.scale=e}get scale(){return this.__transformComponent.scale}}l.__isInitialized=!1,l.__tmp_indentityMatrix=r.a.identity(),h.a.registerComponentClass(l);var d=s(24);const c=Object.freeze({EffekseerComponent:l,createEffekseerEntity:function(){return d.a.getInstance().createEntity([o.a,i.a,l])}});t.default=c}}]);